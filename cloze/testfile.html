<!DOCTYPE html>
<html lang="en">
<head><meta charset="UTF-8"><title>Supabase Test</title></head>
<body>
<button id="testInsert">ğŸ” Test Insert to Supabase</button>
<pre id="log"></pre>

<script type="module">
import { createClient } from 'https://esm.sh/@supabase/supabase-js@2';

const supabase = createClient(
  'https://yellow-lab-4999.andrewveda.workers.dev',
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFoZXpzc29jenZwYmt0ZWZmY2d6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI4NTk1ODUsImV4cCI6MjA3ODQzNTU4NX0.2ZlqXnZxv0opkhynAT7OlK4S-xPygcc7ETUyTXRfGHE'
);

document.getElementById("testInsert").onclick = async () => {
  const { data, error } = await supabase
    .from("Quests")
    .insert([
      {
        student_name: "Test Student",
        department: "CSE-1",
        correct: 5,
        wrong: 0,
        time_spent: 42,
        quest_id: "Quest 80"
      }
    ])
    .select();

  document.getElementById("log").innerText =
    error ? "âŒ " + JSON.stringify(error, null, 2)
          : "âœ… Success: " + JSON.stringify(data, null, 2);

  console.log("Insert result:", { data, error });
};
</script>
</body>
</html>

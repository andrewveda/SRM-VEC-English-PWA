<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Grammar Drive üöÄ</title>

<style>
body{
  margin:0;
  font-family:'Segoe UI',Tahoma,Verdana,sans-serif;
  background:radial-gradient(circle at bottom,#02030f,#000);
  color:#fff;
  text-align:center;
  overflow:hidden;
}

/* ===== HEADER ===== */
.quiz-header-bar{
  display:none;
  background:#05081a;
  padding:.6rem 1rem;
  border-bottom:1px solid #222;
}
.quiz-header-content{
  display:flex;
  justify-content:space-between;
  font-weight:bold;
  color:#ffd700;
}

/* ===== CONTAINER ===== */
.container{
  max-width:900px;
  margin:1.5rem auto;
  padding:1.5rem;
  background:rgba(255,255,255,0.05);
  border-radius:18px;
  box-shadow:0 0 40px rgba(0,255,255,0.2);
}

/* ===== SPACE LANE ===== */
#spaceLane{
  position:relative;
  width:100%;
  height:120px;
  margin-bottom:1.5rem;
  overflow:hidden;
  border-radius:14px;
  background:linear-gradient(to right,#02010a,#02010a);
  box-shadow:inset 0 0 40px rgba(0,255,255,.2);
}

#spaceShip{
  position:absolute;
  left:20px;
  top:50%;
  transform:translateY(-50%);
  font-size:3rem;
  transition:filter .3s;
}

.ship-fast{ filter:drop-shadow(0 0 20px #00ffcc); }
.ship-slow{ filter:drop-shadow(0 0 15px #ff6666); }

.ship-hit{
  animation:shipHit .4s;
}
@keyframes shipHit{
  0%,100%{transform:translateY(-50%)}
  25%{transform:translateY(-50%) translateX(-12px)}
  75%{transform:translateY(-50%) translateX(12px)}
}

#asteroidField{
  position:absolute;
  inset:0;
  pointer-events:none;
}

.asteroid{
  position:absolute;
  font-size:1.6rem;
  animation:asteroidMove linear forwards;
  filter:drop-shadow(0 0 6px #ff9966);
}
@keyframes asteroidMove{
  from{ right:-40px; }
  to{ right:110%; }
}

.clear-field{
  animation:clearFlash .5s;
}
@keyframes clearFlash{
  0%{ box-shadow:inset 0 0 0 rgba(0,255,255,0);}
  50%{ box-shadow:inset 0 0 60px rgba(0,255,255,.9);}
  100%{ box-shadow:inset 0 0 0 rgba(0,255,255,0);}
}

/* ===== SENTENCE ===== */
#sentenceFlash{
  font-size:1.7rem;
  margin:1.5rem 0;
  padding:1.2rem;
  background:rgba(0,0,0,.4);
  border-radius:12px;
  box-shadow:0 0 25px rgba(0,224,255,.4);
}

/* ===== SNIPERS ===== */
.sniper-zone{
  display:flex;
  gap:2rem;
  margin-top:2rem;
}
.sniper{
  flex:1;
  padding:2rem;
  font-size:2.2rem;
  border-radius:18px;
  cursor:pointer;
  transition:.2s;
}
.sniper:active{ transform:scale(.9); }

.sniper.is{
  background:linear-gradient(135deg,#0077ff,#00e0ff);
}
.sniper.are{
  background:linear-gradient(135deg,#ff0066,#ff5aa5);
}

/* ===== START ===== */
#nameForm select,#nameForm input,#nameForm button{
  width:90%;
  max-width:320px;
  padding:.8rem;
  margin:.5rem auto;
  border-radius:8px;
  border:none;
  font-size:1rem;
}
#nameForm button{
  background:#ffd700;
  font-weight:bold;
  cursor:pointer;
}

/* ===== STARS ===== */
.star{
  position:fixed;
  width:2px;
  height:2px;
  background:white;
  border-radius:50%;
  animation:twinkle 3s infinite;
}
@keyframes twinkle{
  0%,100%{opacity:.3}
  50%{opacity:1}
}
</style>
</head>

<body>

<div class="quiz-header-bar" id="quizHeaderBar">
  <div class="quiz-header-content">
    <div>‚è≥ <span id="timeValue">0</span>s</div>
    <div>üíé <span id="gemValue">0</span></div>
    <div>üî• <span id="streakValue">0</span></div>
    <div>üöÄ <span id="currentQ">1</span>/<span id="totalQ">0</span></div>
  </div>
</div>

<div class="container">

<div id="nameForm">
  <p style="color:#ffd700">Pilot the ship. Correct grammar = speed.</p>
  <select id="departmentSelect">
    <option value="">-- Select Department --</option>
    <option>Cyber Security</option>
    <option>CSE</option>
    <option>ECE</option>
  </select>
  <input id="nameInput" placeholder="Your name">
  <button onclick="beginQuiz()">üöÄ Launch</button>
</div>

<div id="quizContent" style="display:none">

  <div id="spaceLane">
    <div id="spaceShip">üöÄ</div>
    <div id="asteroidField"></div>
  </div>

  <div id="sentenceFlash"></div>

  <div class="sniper-zone">
    <div class="sniper is" onclick="fireSniper('is')">IS</div>
    <div class="sniper are" onclick="fireSniper('are')">ARE</div>
  </div>

  <div id="scoreCard"></div>
</div>
</div>

<script>
/* ===== STARS ===== */
for(let i=0;i<80;i++){
  const s=document.createElement("div");
  s.className="star";
  s.style.left=Math.random()*100+"%";
  s.style.top=Math.random()*100+"%";
  s.style.animationDelay=Math.random()*3+"s";
  document.body.appendChild(s);
}

/* ===== DATA ===== */
const quizData=[
  {q:"I ___ happy today.",a:"am",correct:"is"},
  {q:"They ___ my friends.",correct:"are"},
  {q:"He ___ ready.",correct:"is"},
  {q:"We ___ late.",correct:"are"},
  {q:"She ___ absent.",correct:"is"},
  {q:"The students ___ here.",correct:"are"}
];

/* ===== STATE ===== */
let current=0;
let gems=0;
let streak=0;
let timeStart;
let shipX=20;
let shipSpeed=3;
let asteroidDensity=0;

/* ===== ELEMENTS ===== */
const ship=document.getElementById("spaceShip");
const lane=document.getElementById("spaceLane");
const field=document.getElementById("asteroidField");
const sentence=document.getElementById("sentenceFlash");

/* ===== BEGIN ===== */
function beginQuiz(){
  if(!nameInput.value||!departmentSelect.value){alert("Enter name & dept");return;}
  document.getElementById("nameForm").style.display="none";
  document.getElementById("quizContent").style.display="block";
  document.getElementById("quizHeaderBar").style.display="block";
  document.getElementById("totalQ").innerText=quizData.length;
  timeStart=Date.now();
  flyShip();
  loadQuestion();
  setInterval(()=>timeValue.innerText=Math.floor((Date.now()-timeStart)/1000),1000);
}

/* ===== FLIGHT ===== */
function flyShip(){
  shipX+=shipSpeed;
  if(shipX>window.innerWidth-120) shipX=20;
  ship.style.left=shipX+"px";
  requestAnimationFrame(flyShip);
}

/* ===== ASTEROIDS ===== */
function spawnAsteroid(){
  const a=document.createElement("div");
  a.className="asteroid";
  a.textContent=["‚òÑÔ∏è","ü™®","üåë"][Math.floor(Math.random()*3)];
  a.style.top=30+Math.random()*40+"%";
  a.style.animationDuration=3+Math.random()*2+"s";
  field.appendChild(a);
  setTimeout(()=>a.remove(),5000);
}

/* ===== QUESTIONS ===== */
function loadQuestion(){
  if(current>=quizData.length){ endGame(); return;}
  sentence.innerHTML=quizData[current].q;
  currentQ.innerText=current+1;
}

/* ===== FIRE ===== */
function fireSniper(word){
  const correct=quizData[current].correct===word;

  if(correct){
    gems++; streak++; shipSpeed=Math.min(shipSpeed+2,20);
    ship.classList.add("ship-fast");
    asteroidDensity=Math.max(asteroidDensity-1,0);
    field.innerHTML="";
    lane.classList.add("clear-field");
    sentence.innerHTML=quizData[current].q.replace("___",`<b style="color:#00ff88">${word}</b>`);
    setTimeout(()=>lane.classList.remove("clear-field"),400);
  }else{
    streak=0; shipSpeed=Math.max(shipSpeed-3,1);
    ship.classList.add("ship-hit","ship-slow");
    asteroidDensity=Math.min(asteroidDensity+1,6);
    for(let i=0;i<asteroidDensity;i++) spawnAsteroid();
  }

  gemValue.innerText=gems;
  streakValue.innerText=streak;

  setTimeout(()=>{
    ship.classList.remove("ship-fast","ship-hit","ship-slow");
    current++;
    loadQuestion();
  },700);
}

/* ===== END ===== */
function endGame(){
  sentence.innerText="üéâ Mission Complete!";
  document.querySelector(".sniper-zone").style.display="none";
  scoreCard.innerHTML=`üíé Gems: ${gems}<br>üî• Best Streak: ${streak}`;
}
</script>

</body>
</html>
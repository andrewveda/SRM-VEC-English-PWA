<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Quote a Day âœ¨</title>
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;500;700&family=Raleway:wght@300;400;600&family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Special+Elite&family=Syne:wght@700;800&family=DM+Mono:wght@300;400&family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=Unbounded:wght@700;800&family=Cormorant+Garamond:ital,wght@0,300;0,600;1,300;1,600&display=swap" rel="stylesheet">
<style>
/* â”€â”€â”€ RESET & BASE â”€â”€â”€ */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

:root {
  --gold: #d4af37;
  --gold-dim: rgba(212,175,55,0.18);
  --card-bg: rgba(255,255,255,0.04);
  --card-border: rgba(255,255,255,0.10);
  --text: #f0efe8;
  --text-dim: #888;
  --transition: 0.45s cubic-bezier(.4,0,.2,1);
}

html, body {
  height: 100%;
  overflow: hidden;
  background: #0a0a0a;
  color: var(--text);
  font-family: 'Raleway', sans-serif;
  -webkit-font-smoothing: antialiased;
}

/* â”€â”€â”€ LAYOUT SHELL â”€â”€â”€ */
.shell {
  height: 100vh;
  display: grid;
  grid-template-rows: auto 1fr auto;
  grid-template-columns: 1fr;
}

/* â”€â”€â”€ TOP BAR â”€â”€â”€ */
.topbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 14px 28px;
  background: rgba(10,10,10,0.85);
  backdrop-filter: blur(12px);
  border-bottom: 1px solid var(--card-border);
  z-index: 10;
  position: relative;
}
.topbar-left { display: flex; align-items: center; gap: 10px; }
.topbar-title {
  font-family: 'Cinzel', serif;
  font-size: 15px;
  letter-spacing: 3px;
  color: var(--gold);
  text-transform: uppercase;
}
.topbar-counter {
  font-size: 11px;
  color: var(--text-dim);
  letter-spacing: 1.5px;
  background: rgba(255,255,255,0.06);
  padding: 4px 10px;
  border-radius: 20px;
  border: 1px solid var(--card-border);
}

/* â”€â”€â”€ THEME SWITCHER â”€â”€â”€ */
.theme-strip {
  display: flex;
  gap: 6px;
  align-items: center;
}
.theme-btn {
  width: 28px; height: 28px;
  border-radius: 8px;
  border: 1.5px solid transparent;
  cursor: pointer;
  transition: all 0.25s;
  position: relative;
  background: var(--swatch);
  outline: none;
}
.theme-btn:hover { transform: scale(1.12); }
.theme-btn.active { border-color: var(--gold); box-shadow: 0 0 8px rgba(212,175,55,0.4); }
.theme-btn[data-theme="minimal"]  { --swatch: linear-gradient(135deg,#f5f0e8,#e8e0d0); }
.theme-btn[data-theme="academia"] { --swatch: linear-gradient(135deg,#3b2f1e,#6b4c2a); }
.theme-btn[data-theme="cyber"]    { --swatch: linear-gradient(135deg,#0d0d1a,#1a0a2e); }
.theme-btn[data-theme="brutalist"]{ --swatch: linear-gradient(135deg,#111,#222); }
.theme-btn[data-theme="wellness"] { --swatch: linear-gradient(135deg,#e8dff0,#d4e8d8); }
.theme-btn[data-theme="retro"]    { --swatch: linear-gradient(135deg,#c1683b,#d4a843); }
.theme-btn[data-theme="glass"]    { --swatch: linear-gradient(135deg,#1a1a2e,#16213e); }
.theme-btn[data-theme="poster"]   { --swatch: linear-gradient(135deg,#0f0f0f,#2a2a2a); }

/* â”€â”€â”€ MAIN STAGE â”€â”€â”€ */
.stage {
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  overflow: hidden;
  min-height: 0;
}
/* ambient bg â€” animated per-theme via JS class */
.ambient {
  position: absolute; inset: 0;
  transition: background 0.8s ease;
  z-index: 0;
}
.ambient::after {
  content: '';
  position: absolute; inset: 0;
  background: radial-gradient(ellipse at 50% 40%, rgba(212,175,55,0.12) 0%, transparent 65%);
  transition: all 0.8s ease;
}

/* â”€â”€â”€ QUOTE CARD â”€â”€â”€ */
.card-wrap {
  position: relative;
  z-index: 2;
  width: 90%;
  max-width: 780px;
  display: flex;
  flex-direction: column;
  align-items: center;
}
.card {
  width: 100%;
  padding: 56px 52px 44px;
  border-radius: 20px;
  background: var(--card-bg);
  border: 1px solid var(--card-border);
  backdrop-filter: blur(24px);
  box-shadow: 0 8px 48px rgba(0,0,0,0.35);
  transition: background var(--transition), border-color var(--transition), box-shadow var(--transition);
  animation: cardIn 0.6s cubic-bezier(.4,0,.2,1);
  position: relative;
  overflow: hidden;
}
.card::before {
  content: '';
  position: absolute;
  top: -1px; left: 20%; right: 20%;
  height: 2px;
  background: var(--gold);
  border-radius: 0 0 2px 2px;
  opacity: 0.6;
  transition: all 0.6s;
}
@keyframes cardIn {
  from { opacity: 0; transform: translateY(28px) scale(0.97); }
  to   { opacity: 1; transform: translateY(0)   scale(1);    }
}
.card.swap {
  animation: cardOut 0.28s cubic-bezier(.4,0,.2,1) forwards,
             cardIn  0.5s  cubic-bezier(.4,0,.2,1) 0.28s both;
}
@keyframes cardOut {
  to { opacity: 0; transform: translateY(-18px) scale(0.96); }
}

/* â”€â”€â”€ QUOTE TYPOGRAPHY â”€â”€â”€ */
.q-mark {
  font-family: 'Cinzel', serif;
  font-size: 72px;
  line-height: 0.6;
  color: var(--gold);
  opacity: 0.35;
  display: block;
  margin-bottom: 16px;
}
.q-text {
  font-family: 'Cormorant Garamond', serif;
  font-size: clamp(22px, 3.8vw, 38px);
  font-weight: 300;
  line-height: 1.55;
  letter-spacing: 0.3px;
  color: var(--text);
  text-align: center;
  transition: color var(--transition);
}
.q-author {
  margin-top: 22px;
  font-family: 'Raleway', sans-serif;
  font-size: 13px;
  font-weight: 600;
  letter-spacing: 2.5px;
  text-transform: uppercase;
  color: var(--gold);
  text-align: center;
}
.q-contrib {
  margin-top: 14px;
  font-size: 12px;
  color: var(--text-dim);
  letter-spacing: 1.5px;
  text-align: center;
}
.q-about {
  margin-top: 10px;
  font-family: 'Cormorant Garamond', serif;
  font-size: 16px;
  font-style: italic;
  color: rgba(255,255,255,0.42);
  text-align: center;
  max-width: 560px;
  margin-left: auto;
  margin-right: auto;
  min-height: 24px;
  transition: opacity 0.3s;
}

/* â”€â”€â”€ REACTION BAR â”€â”€â”€ */
.reactions {
  display: flex;
  gap: 10px;
  margin-top: 28px;
  justify-content: center;
  flex-wrap: wrap;
}
.rxn {
  display: flex;
  align-items: center;
  gap: 6px;
  background: rgba(255,255,255,0.05);
  border: 1px solid rgba(255,255,255,0.10);
  border-radius: 24px;
  padding: 7px 14px;
  cursor: pointer;
  transition: background 0.22s, border-color 0.22s, transform 0.18s;
  user-select: none;
  -webkit-user-select: none;
}
.rxn:hover { background: rgba(255,255,255,0.10); transform: translateY(-1px); }
.rxn:active { transform: scale(0.92); }
.rxn.active {
  background: rgba(212,175,55,0.15);
  border-color: rgba(212,175,55,0.45);
}
.rxn-icon { font-size: 18px; line-height: 1; }
.rxn-count {
  font-family: 'DM Mono', monospace;
  font-size: 13px;
  font-weight: 400;
  color: rgba(255,255,255,0.7);
  min-width: 18px;
  text-align: center;
}
.rxn.pop .rxn-icon { animation: pop 0.35s cubic-bezier(.4,0,.2,1); }
@keyframes pop {
  0%   { transform: scale(1); }
  40%  { transform: scale(1.55); }
  100% { transform: scale(1); }
}

/* â”€â”€â”€ NAV ARROWS â”€â”€â”€ */
.nav-arrows {
  display: flex;
  gap: 14px;
  margin-top: 24px;
  justify-content: center;
}
.nav-btn {
  width: 42px; height: 42px;
  border-radius: 50%;
  border: 1px solid var(--card-border);
  background: rgba(255,255,255,0.04);
  color: var(--text);
  font-size: 18px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background 0.2s, border-color 0.2s, transform 0.18s;
}
.nav-btn:hover { background: rgba(255,255,255,0.10); border-color: var(--gold); transform: scale(1.08); }
.nav-btn:active { transform: scale(0.93); }

/* â”€â”€â”€ DOT INDICATOR â”€â”€â”€ */
.dot-strip {
  display: flex;
  gap: 5px;
  justify-content: center;
  margin-top: 18px;
  flex-wrap: wrap;
  max-width: 340px;
  margin-left: auto;
  margin-right: auto;
}
.dot {
  width: 6px; height: 6px;
  border-radius: 50%;
  background: rgba(255,255,255,0.18);
  cursor: pointer;
  transition: background 0.3s, transform 0.2s;
}
.dot:hover { transform: scale(1.4); background: rgba(255,255,255,0.4); }
.dot.active { background: var(--gold); box-shadow: 0 0 6px rgba(212,175,55,0.5); }

/* â”€â”€â”€ FOOTER â”€â”€â”€ */
footer {
  padding: 12px;
  text-align: center;
  font-size: 10px;
  letter-spacing: 3px;
  color: #444;
  text-transform: uppercase;
  border-top: 1px solid rgba(255,255,255,0.04);
  background: rgba(10,10,10,0.7);
}

/* â”€â”€â”€ THEME OVERRIDES â”€â”€â”€ */

/* â”€â”€ MINIMAL â”€â”€ */
body.t-minimal {
  background: #f5f0e8;
  --text: #2c2420;
  --text-dim: #8a7e72;
  --card-bg: rgba(255,255,255,0.72);
  --card-border: rgba(0,0,0,0.08);
  --gold: #8b6f3a;
}
body.t-minimal .topbar { background: rgba(245,240,232,0.92); border-bottom-color: rgba(0,0,0,0.08); }
body.t-minimal .ambient { background: #f5f0e8 !important; }
body.t-minimal .ambient::after { background: none !important; }
body.t-minimal .card { box-shadow: 0 4px 32px rgba(0,0,0,0.06); }
body.t-minimal .card::before { display: none; }
body.t-minimal .q-text { font-family: 'Libre Baskerville', serif; font-weight: 400; color: #2c2420; }
body.t-minimal .q-mark { color: #ccc; opacity: 1; }
body.t-minimal .rxn { background: rgba(0,0,0,0.04); border-color: rgba(0,0,0,0.1); }
body.t-minimal .rxn:hover { background: rgba(0,0,0,0.08); }
body.t-minimal .rxn.active { background: rgba(139,111,58,0.12); border-color: rgba(139,111,58,0.35); }
body.t-minimal .rxn-count { color: rgba(0,0,0,0.55); }
body.t-minimal .nav-btn { background: rgba(0,0,0,0.04); border-color: rgba(0,0,0,0.12); color: #2c2420; }
body.t-minimal .nav-btn:hover { background: rgba(0,0,0,0.08); }
body.t-minimal .dot { background: rgba(0,0,0,0.15); }
body.t-minimal .dot.active { background: var(--gold); }
body.t-minimal footer { background: rgba(245,240,232,0.9); border-top-color: rgba(0,0,0,0.06); color: #aaa; }
body.t-minimal .topbar-counter { background: rgba(0,0,0,0.05); border-color: rgba(0,0,0,0.08); color: #8a7e72; }

/* â”€â”€ DARK ACADEMIA â”€â”€ */
body.t-academia {
  background: #2a1f14;
  --text: #e8dcc8;
  --text-dim: #9a8b72;
  --card-bg: rgba(60,40,20,0.55);
  --card-border: rgba(212,175,55,0.22);
  --gold: #c9a84c;
}
body.t-academia .topbar { background: rgba(30,20,10,0.9); border-bottom-color: rgba(201,168,76,0.2); }
body.t-academia .ambient { background: radial-gradient(ellipse at 50% 40%, #3b2a18 0%, #2a1f14 70%) !important; }
body.t-academia .card { border-color: rgba(201,168,76,0.3); box-shadow: 0 6px 40px rgba(0,0,0,0.5), inset 0 0 60px rgba(60,40,20,0.3); }
body.t-academia .q-text { font-family: 'Playfair Display', serif; font-style: italic; font-weight: 400; }
body.t-academia .q-mark { font-size: 80px; opacity: 0.25; }
body.t-academia footer { background: rgba(20,12,4,0.85); color: #6b5d44; }

/* â”€â”€ CYBERPUNK â”€â”€ */
body.t-cyber {
  background: #050510;
  --text: #e8e0ff;
  --text-dim: #6a6a8a;
  --card-bg: rgba(20,10,40,0.6);
  --card-border: rgba(180,0,255,0.25);
  --gold: #00f0ff;
}
body.t-cyber .topbar { background: rgba(5,5,16,0.92); border-bottom-color: rgba(180,0,255,0.3); }
body.t-cyber .ambient { background: radial-gradient(ellipse at 30% 60%, rgba(180,0,255,0.18) 0%, transparent 55%), radial-gradient(ellipse at 75% 30%, rgba(0,240,255,0.12) 0%, transparent 50%), #050510 !important; }
body.t-cyber .ambient::after { display: none; }
body.t-cyber .card { border-color: rgba(180,0,255,0.4); box-shadow: 0 0 30px rgba(180,0,255,0.15), 0 0 80px rgba(180,0,255,0.06); }
body.t-cyber .card::before { background: linear-gradient(90deg, transparent, #00f0ff, transparent); opacity: 0.8; }
body.t-cyber .q-text { font-family: 'DM Mono', monospace; font-size: clamp(17px,2.8vw,24px); font-weight: 300; letter-spacing: 0.8px; line-height: 1.7; }
body.t-cyber .q-mark { color: #b400ff; opacity: 0.5; font-family: 'DM Mono', monospace; }
body.t-cyber .q-author { color: #b400ff; text-shadow: 0 0 8px rgba(180,0,255,0.4); }
body.t-cyber .rxn.active { background: rgba(0,240,255,0.12); border-color: rgba(0,240,255,0.5); box-shadow: 0 0 10px rgba(0,240,255,0.2); }
body.t-cyber footer { background: rgba(5,5,16,0.9); color: #3a3a5a; }
body.t-cyber .topbar-counter { background: rgba(180,0,255,0.08); border-color: rgba(180,0,255,0.2); }

/* â”€â”€ BRUTALIST â”€â”€ */
body.t-brutalist {
  background: #111;
  --text: #fff;
  --text-dim: #666;
  --card-bg: rgba(255,255,255,0.03);
  --card-border: rgba(255,255,255,0.08);
  --gold: #e8ff00;
}
body.t-brutalist .topbar { background: rgba(17,17,17,0.95); border-bottom-color: rgba(255,255,255,0.08); }
body.t-brutalist .ambient { background: #111 !important; }
body.t-brutalist .ambient::after { display: none; }
body.t-brutalist .card { border-radius: 0; border-color: rgba(255,255,255,0.15); box-shadow: none; }
body.t-brutalist .card::before { left: 0; right: 0; height: 3px; background: var(--gold); opacity: 1; border-radius: 0; }
body.t-brutalist .q-text { font-family: 'Unbounded', sans-serif; font-size: clamp(16px,2.6vw,22px); font-weight: 700; line-height: 1.5; letter-spacing: -0.5px; text-transform: uppercase; }
body.t-brutalist .q-mark { display: none; }
body.t-brutalist .q-author { font-family: 'DM Mono', monospace; color: #fff; letter-spacing: 1px; text-transform: none; font-weight: 400; font-size: 14px; }
body.t-brutalist .nav-btn { border-radius: 0; }
body.t-brutalist .rxn { border-radius: 6px; }
body.t-brutalist .rxn.active { background: rgba(232,255,0,0.1); border-color: rgba(232,255,0,0.5); }
body.t-brutalist footer { background: rgba(17,17,17,0.95); color: #333; }

/* â”€â”€ WELLNESS â”€â”€ */
body.t-wellness {
  background: #ede8f0;
  --text: #3d3347;
  --text-dim: #8a7d96;
  --card-bg: rgba(255,255,255,0.6);
  --card-border: rgba(160,130,190,0.22);
  --gold: #7d5fa0;
}
body.t-wellness .topbar { background: rgba(237,232,240,0.92); border-bottom-color: rgba(160,130,190,0.2); }
body.t-wellness .ambient { background: linear-gradient(160deg, #ede8f0 0%, #dfe9dc 50%, #e8e0ef 100%) !important; }
body.t-wellness .ambient::after { background: radial-gradient(ellipse at 50% 40%, rgba(160,130,190,0.12) 0%, transparent 65%) !important; }
body.t-wellness .card { box-shadow: 0 8px 40px rgba(100,80,130,0.08); border-color: rgba(160,130,190,0.25); }
body.t-wellness .card::before { background: linear-gradient(90deg, transparent, #a882c3, transparent); opacity: 0.5; }
body.t-wellness .q-text { font-family: 'Cormorant Garamond', serif; font-weight: 300; color: #3d3347; }
body.t-wellness .q-mark { color: #c3a8d9; opacity: 0.6; }
body.t-wellness .rxn { background: rgba(100,80,130,0.06); border-color: rgba(160,130,190,0.22); }
body.t-wellness .rxn:hover { background: rgba(100,80,130,0.12); }
body.t-wellness .rxn.active { background: rgba(125,95,160,0.14); border-color: rgba(125,95,160,0.4); }
body.t-wellness .rxn-count { color: rgba(0,0,0,0.45); }
body.t-wellness .nav-btn { background: rgba(100,80,130,0.06); border-color: rgba(160,130,190,0.22); color: #3d3347; }
body.t-wellness .nav-btn:hover { background: rgba(100,80,130,0.12); border-color: var(--gold); }
body.t-wellness .dot { background: rgba(0,0,0,0.12); }
body.t-wellness footer { background: rgba(237,232,240,0.9); color: #b0a3bb; border-top-color: rgba(160,130,190,0.15); }
body.t-wellness .topbar-counter { background: rgba(100,80,130,0.06); border-color: rgba(160,130,190,0.18); color: #8a7d96; }

/* â”€â”€ RETRO 70s â”€â”€ */
body.t-retro {
  background: #2b1a0e;
  --text: #f0dcc8;
  --text-dim: #9a8060;
  --card-bg: rgba(180,120,50,0.15);
  --card-border: rgba(212,168,67,0.3);
  --gold: #d4a843;
}
body.t-retro .topbar { background: rgba(30,16,6,0.92); border-bottom-color: rgba(212,168,67,0.25); }
body.t-retro .ambient { background: radial-gradient(ellipse at 50% 50%, #3d2414 0%, #2b1a0e 70%) !important; }
body.t-retro .card { border-radius: 12px; border-color: rgba(212,168,67,0.38); box-shadow: 0 4px 30px rgba(0,0,0,0.45), inset 0 1px 0 rgba(255,255,255,0.06); }
body.t-retro .card::before { background: var(--gold); left: 10%; right: 10%; height: 2px; opacity: 0.7; }
body.t-retro .q-text { font-family: 'Special Elite', cursive; font-size: clamp(19px,3.2vw,30px); line-height: 1.65; }
body.t-retro .q-mark { font-family: 'Playfair Display', serif; color: #d4a843; opacity: 0.4; font-size: 78px; }
body.t-retro footer { background: rgba(20,10,4,0.9); color: #5a4530; }

/* â”€â”€ GLASSMORPHISM â”€â”€ */
body.t-glass {
  background: #0f1629;
  --text: #e2e8f0;
  --text-dim: #64748b;
  --card-bg: rgba(255,255,255,0.07);
  --card-border: rgba(255,255,255,0.14);
  --gold: #60a5fa;
}
body.t-glass .topbar { background: rgba(15,22,41,0.85); border-bottom-color: rgba(255,255,255,0.08); backdrop-filter: blur(16px); }
body.t-glass .ambient { background: radial-gradient(ellipse at 20% 80%, rgba(59,130,246,0.25) 0%, transparent 50%), radial-gradient(ellipse at 80% 20%, rgba(147,51,234,0.2) 0%, transparent 50%), #0f1629 !important; }
body.t-glass .ambient::after { display: none; }
body.t-glass .card { backdrop-filter: blur(32px); box-shadow: 0 8px 32px rgba(0,0,0,0.3), inset 0 1px 0 rgba(255,255,255,0.1); }
body.t-glass .card::before { background: linear-gradient(90deg, transparent, rgba(96,165,250,0.7), transparent); opacity: 0.6; }
body.t-glass .q-text { font-family: 'Cormorant Garamond', serif; font-weight: 300; }
body.t-glass .rxn.active { background: rgba(96,165,250,0.15); border-color: rgba(96,165,250,0.45); }
body.t-glass footer { background: rgba(15,22,41,0.8); color: #3a4a6a; }

/* â”€â”€ POSTER / TYPOGRAPHIC â”€â”€ */
body.t-poster {
  background: #0a0a0a;
  --text: #fff;
  --text-dim: #555;
  --card-bg: transparent;
  --card-border: transparent;
  --gold: #ff6b35;
}
body.t-poster .topbar { background: rgba(10,10,10,0.95); border-bottom-color: rgba(255,255,255,0.06); }
body.t-poster .ambient { background: #0a0a0a !important; }
body.t-poster .ambient::after { display: none; }
body.t-poster .card { background: transparent; border: none; box-shadow: none; backdrop-filter: none; padding: 40px 48px; }
body.t-poster .card::before { display: none; }
body.t-poster .q-text {
  font-family: 'Syne', sans-serif;
  font-weight: 800;
  font-size: clamp(28px,5vw,56px);
  line-height: 1.15;
  letter-spacing: -1.5px;
  background: linear-gradient(135deg, #fff 0%, #ff6b35 40%, #fff 70%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}
body.t-poster .q-mark { display: none; }
body.t-poster .q-author { color: #fff; font-family: 'DM Mono', monospace; font-size: 14px; letter-spacing: 1px; }
body.t-poster .rxn { background: rgba(255,255,255,0.04); border-color: rgba(255,255,255,0.1); }
body.t-poster .rxn.active { background: rgba(255,107,53,0.12); border-color: rgba(255,107,53,0.45); }
body.t-poster footer { background: rgba(10,10,10,0.95); color: #333; }

/* â”€â”€â”€ SCANLINE OVERLAY (cyber only) â”€â”€â”€ */
body.t-cyber .stage::after {
  content: '';
  position: absolute; inset: 0;
  background: repeating-linear-gradient(0deg, transparent 0px, transparent 3px, rgba(0,0,0,0.15) 3px, rgba(0,0,0,0.15) 4px);
  pointer-events: none;
  z-index: 1;
}

/* â”€â”€â”€ RESPONSIVE â”€â”€â”€ */
@media (max-width: 600px) {
  .card { padding: 38px 22px 32px; }
  .topbar { padding: 10px 14px; }
  .theme-strip { gap: 4px; }
  .theme-btn { width: 24px; height: 24px; border-radius: 6px; }
  .reactions { gap: 7px; }
  .rxn { padding: 6px 10px; }
}
</style>
</head>
<body class="t-glass">

<!-- â”€â”€â”€ TOP BAR â”€â”€â”€ -->
<div class="shell">
<header class="topbar">
  <div class="topbar-left">
    <span class="topbar-title">Quote a Day</span>
    <span class="topbar-counter" id="counter">â€” / â€”</span>
  </div>
  <div class="theme-strip" id="themeBtns"></div>
</header>

<!-- â”€â”€â”€ STAGE â”€â”€â”€ -->
<section class="stage">
  <div class="ambient"></div>

  <div class="card-wrap">
    <div class="card" id="card">
      <span class="q-mark">"</span>
      <div class="q-text"  id="qText">Loadingâ€¦</div>
      <div class="q-author" id="qAuthor"></div>
      <div class="q-contrib" id="qContrib"></div>
      <div class="q-about"  id="qAbout"></div>
    </div>

    <!-- Reactions -->
    <div class="reactions" id="reactions"></div>

    <!-- Nav -->
    <div class="nav-arrows">
      <button class="nav-btn" id="prevBtn">â†</button>
      <button class="nav-btn" id="nextBtn">â†’</button>
    </div>

    <!-- Dots -->
    <div class="dot-strip" id="dots"></div>
  </div>
</section>

<!-- â”€â”€â”€ FOOTER â”€â”€â”€ -->
<footer>Quote a Day Â· Student Contributions Â· All Quotes Interactive</footer>
</div>

<script>
/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   CONFIG
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
const QUOTES_URL = "https://raw.githubusercontent.com/AndrewVeda/SRM-VEC-English-PWA/main/QUOTES.md";

const REACTIONS = [
  { key:'heart',  emoji:'â¤ï¸',  label:'Love' },
  { key:'clap',   emoji:'ğŸ‘',  label:'Clap' },
  { key:'fire',   emoji:'ğŸ”¥',  label:'Fire' },
  { key:'wow',    emoji:'ğŸ¤¯',  label:'Mind-blown' },
  { key:'save',   emoji:'ğŸ”–',  label:'Save' },
  { key:'share',  emoji:'âœ¨',  label:'Inspire' }
];

const THEMES = ['minimal','academia','cyber','brutalist','wellness','retro','glass','poster'];

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   STATE
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
let quotes   = [];
let idx      = 0;
let current  = 'glass';
// reactions: { [quoteIndex]: { heart: N, clap: N, â€¦ }, â€¦ }
// userReacted: { [quoteIndex]: Set<key> }
let reactionData = {};
let userReacted  = {};

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   INIT
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
document.addEventListener('DOMContentLoaded', async () => {
  buildThemeBtns();
  buildReactionBtns();
  loadState();
  await fetchQuotes();
  render();
});

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   FETCH & PARSE QUOTES
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
async function fetchQuotes() {
  try {
    const res  = await fetch(QUOTES_URL);
    const text = await res.text();
    const lines = text.split('\n');

    for (let i = 0; i < lines.length; i++) {
      const l = lines[i].trim();
      if (l.startsWith('> "') && lines[i+1] && lines[i+1].includes('added by')) {
        const quoteLine = l.replace(/^>/, '').trim();
        const metaLine  = lines[i+1].replace(/^>/, '').trim();

        const dashIdx = quoteLine.lastIndexOf('â€”');
        const qPart   = dashIdx > -1 ? quoteLine.slice(0, dashIdx) : quoteLine;
        const aPart   = dashIdx > -1 ? quoteLine.slice(dashIdx + 1) : 'Unknown';

        const [, rest]       = metaLine.split('added by');
        const [contrib, ab]  = (rest || '').split('| about:');

        quotes.push({
          quote:       qPart.replace(/[""]/g, '').trim(),
          author:      aPart.trim() || 'Unknown',
          contributor: (contrib || '').trim() || 'A student',
          about:       (ab || '').trim()
        });
      }
    }

    // seed some sample reactions so the UI isn't totally empty on first load
    seedReactions();
    buildDots();

  } catch(e) {
    document.getElementById('qText').textContent = 'Could not load quotes â€” check your connection.';
    console.error(e);
  }
}

/* seed a handful of random reactions per quote (only if none exist yet) */
function seedReactions() {
  quotes.forEach((_, i) => {
    if (!reactionData[i]) {
      reactionData[i] = {};
      REACTIONS.forEach(r => {
        reactionData[i][r.key] = Math.floor(Math.random() * 12) + 1;
      });
    }
  });
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   RENDER CURRENT QUOTE
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function render(animate = false) {
  if (!quotes.length) return;
  const q = quotes[idx];

  if (animate) {
    const card = document.getElementById('card');
    card.classList.remove('swap');
    void card.offsetWidth;
    card.classList.add('swap');
  }

  document.getElementById('qText').textContent   = `\u201C${q.quote}\u201D`;
  document.getElementById('qAuthor').textContent  = `â€” ${q.author}`;
  document.getElementById('qContrib').textContent = `ğŸ… Contributed by ${q.contributor}`;
  document.getElementById('qAbout').textContent   = q.about || '';
  document.getElementById('counter').textContent  = `${idx + 1} / ${quotes.length}`;

  updateDots();
  renderReactionCounts();
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   NAVIGATION
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
document.addEventListener('click', e => {
  if (e.target.closest('#prevBtn')) go(-1);
  if (e.target.closest('#nextBtn')) go(1);
});

document.addEventListener('keydown', e => {
  if (e.key === 'ArrowLeft')  go(-1);
  if (e.key === 'ArrowRight') go(1);
});

function go(dir) {
  idx = (idx + dir + quotes.length) % quotes.length;
  render(true);
  saveState();
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   DOTS
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function buildDots() {
  const strip = document.getElementById('dots');
  strip.innerHTML = '';
  quotes.forEach((_, i) => {
    const d = document.createElement('div');
    d.className = 'dot' + (i === idx ? ' active' : '');
    d.onclick = () => { idx = i; render(true); saveState(); };
    strip.appendChild(d);
  });
}
function updateDots() {
  document.querySelectorAll('.dot').forEach((d, i) => {
    d.classList.toggle('active', i === idx);
  });
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   REACTIONS
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function buildReactionBtns() {
  const wrap = document.getElementById('reactions');
  REACTIONS.forEach(r => {
    const btn = document.createElement('div');
    btn.className = 'rxn';
    btn.id = 'rxn-' + r.key;
    btn.innerHTML = `<span class="rxn-icon">${r.emoji}</span><span class="rxn-count">0</span>`;
    btn.onclick = () => toggleReaction(r.key);
    wrap.appendChild(btn);
  });
}

function toggleReaction(key) {
  if (!reactionData[idx])  reactionData[idx]  = {};
  if (!userReacted[idx])   userReacted[idx]   = new Set();

  const set = userReacted[idx];
  if (set.has(key)) {
    set.delete(key);
    reactionData[idx][key] = Math.max(0, (reactionData[idx][key] || 1) - 1);
  } else {
    set.add(key);
    reactionData[idx][key] = (reactionData[idx][key] || 0) + 1;
  }

  // pop animation
  const btn = document.getElementById('rxn-' + key);
  const icon = btn.querySelector('.rxn-icon');
  icon.classList.remove('pop');
  void icon.offsetWidth;
  icon.classList.add('pop');

  renderReactionCounts();
  saveState();
}

function renderReactionCounts() {
  const data = reactionData[idx] || {};
  const user = userReacted[idx]  || new Set();
  REACTIONS.forEach(r => {
    const btn   = document.getElementById('rxn-' + r.key);
    const count = btn.querySelector('.rxn-count');
    count.textContent = data[r.key] || 0;
    btn.classList.toggle('active', user.has(r.key));
  });
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   THEMES
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function buildThemeBtns() {
  const strip = document.getElementById('themeBtns');
  THEMES.forEach(t => {
    const btn = document.createElement('button');
    btn.className = 'theme-btn' + (t === current ? ' active' : '');
    btn.dataset.theme = t;
    btn.title = t.charAt(0).toUpperCase() + t.slice(1);
    btn.onclick = () => setTheme(t);
    strip.appendChild(btn);
  });
}

function setTheme(t) {
  document.body.className = 't-' + t;
  current = t;
  document.querySelectorAll('.theme-btn').forEach(b => {
    b.classList.toggle('active', b.dataset.theme === t);
  });
  saveState();
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   PERSIST (localStorage-lite via in-memory + sessionStorage fallback)
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function saveState() {
  try {
    sessionStorage.setItem('qdState', JSON.stringify({
      idx, theme: current, reactions: reactionData,
      userReacted: Object.fromEntries(
        Object.entries(userReacted).map(([k,v]) => [k, [...v]])
      )
    }));
  } catch(e) { /* silent */ }
}
function loadState() {
  try {
    const s = sessionStorage.getItem('qdState');
    if (!s) return;
    const d = JSON.parse(s);
    if (d.idx !== undefined) idx = d.idx;
    if (d.theme) setTheme(d.theme);
    if (d.reactions) reactionData = d.reactions;
    if (d.userReacted) {
      userReacted = {};
      Object.entries(d.userReacted).forEach(([k,v]) => {
        userReacted[k] = new Set(v);
      });
    }
  } catch(e) { /* silent */ }
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   AUTO-ADVANCE (30 s)
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
setInterval(() => go(1), 30000);
</script>
</body>
</html>